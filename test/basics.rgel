extern def log(str) unit = "console.log"
extern def str[T](T) str = "JSON.stringify"

def main() do
  debug("OK: " + "test (2) = " + str(2))
  debug(str("asd" == "asd"))
  debug(str(Vec(x: 100, y: 20) == Vec(x: 100, y: 20)))
  var v: Vec = Vec(y: 20, x: 50)
  debug("v.x (50) = " + str(v.x))
  debug("v.y (20) = " + str(v.y))
  debug("1 + 1 = " + str(add1(1)))
  debug("v = " + v.show())
end

# order doesn't matter
rec Vec do
  x: int
  y: int

  def show() str do
    var s: str = "Vec(" + "x= " + str(self.x) + ", y = " + str(self.y) + ")"
    ret s
  end
end

def debug(m: str) do
  log(m)
end

def add1(n: int) int do
  ret n + 1
end
