extern def log(str) unit = "console.log"
extern def str[T](T) str = "JSON.stringify"

rec Point do
  x: int
  y: int

  def add(other: Point) Point do
    ret Point(x: self.x + other.x, y: self.y + other.y)
  end

  def scale(factor: int) Point do
    ret Point(x: self.x * factor, y: self.y * factor)
  end

  def show() str do
    ret "Vec(x = " + str(self.x) + ", y = " + str(self.y) + ")"
  end
end

def main() do
  var p1: Point = Point(x: 10, y: 20)
  var p2: Point = Point(x: 1, y: 1)
  var p3: Point = p1.add(p2)
  var p4: Point = p3.scale(3)

  log(p4.show())
end
